<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
  <title></title>
</head>
<body>
  <br/>
  <form id="editForm">
    <lable for="firstname">First Name</lable>
    <input type="text" name="firstname" id="firstname"><br/>
    <lable for="lastname">Last Name</lable>
    <input type="text" name="lastname" id="lastname"><br/>
    <lable for="mobile">Mobile</lable>
    <input type="text" name="mobile" id="mobile"><br/>
    <lable for="email">Email</lable>
    <input type="text" name="email" id="email"><br/>
    <lable for="avatar">Select a file</lable><br/>
    <input type="file" name="avatar" id="avatat"><br/>
    <button type="submit" id="submitForm">Submit</button>
  </form>
  <br/>
  <button type="submit" id="homeLink">Home</button>
  <script src="config.js"></script>
  <script>
  document.getElementById("submitForm").addEventListener('click',submitForm);
  document.getElemenyById("homeLink").addEventListener('click',homeLink);
  function submitForm(e){
    e.preventDefault(e);
    const form = new formData(document.querySelector('editForm'));
    form.append('apikey',apikey);
    fetch(rootPath + 'controller/insert-contact/',{
      method: 'POST',
      headers: {'Accept': 'application/json, *.*'},
      body: form
    })
    .then(function(respond){
      return response.text();
    })
    .then(function(data){
      if(data == '1'){
        alert("Contact added.");
        homeLink();
      }
      else{
        alert(data);
        homeLink();
      }
    })
  }
  function homeLink(){
    window.open("index.html","_self");
  }
  </script>
</body>
</html>
